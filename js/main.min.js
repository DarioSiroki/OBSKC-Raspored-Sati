$(document).ready(function(){function n(n){for(var e=n+"=",o=document.cookie.split(";"),t=0;t<o.length;t++){for(var a=o[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null}function e(){var n;return $.ajax({url:"js/A.json",dataType:"json",async:!1,success:function(e){n=e}}),n}function o(){var n;return $.ajax({url:"js/B.json",dataType:"json",async:!1,success:function(e){n=e}}),n}function t(){function n(){u.length=0;for(var n=[],e=3;a>e;e++)for(var o=1;36>o;o++)n.push(r[e][o]);$.each(n,function(n,e){-1===$.inArray(e,u)&&u.push(e)})}function t(){u.length=0;for(var n=3;a>n;n++)u.push(r[n][0])}if("Učenik"==s){if("js/A.json"==c){var a=(r=e()).length;n()}else if("js/B.json"==c){a=(r=o()).length;n()}}else if("Profesor"==s)if("js/A.json"==c){a=(r=e()).length;t()}else if("js/B.json"==c){var r;a=(r=o()).length;t()}}function a(){function n(){l=["pon","uto","sri","cet","pet"];n=-1!==a[0][0].search("PRIJE")?["7.45-8.30","8.35-9.20","9.25-10.10","10.25-11.10","11.15-12.00","12.05-12.50","12.55-13.40"]:["13.45-14.30","14.35-15.20","15.25-16.10","16.25-17.10","17.15-18.00","18.05-18.50","18.55-19.40"]}function t(){document.getElementById("info").innerHTML="Raspored za: <br>"+a[1][0]+",<br>"+r;var n=(new Date).getDay();(n>5||0==n)&&(n=1),$("#accordion").accordion({active:n-1})}var a,u,l;"js/A.json"==c?(a=e(),u=a.length):"js/B.json"==c&&(a=o(),u=a.length),"Učenik"==s?(n(),function(){for(var e=-1,o=1;36>o;o+=7){var i="";for(y=o;y<o+7;y++){var c=0;for(i+="<th>"+(y-o+1)+".sat ("+n[y-o]+")</th><tr>",x=2;x<u;x++)a[x][y]==r&&(0==c?(i+="<td>"+a[x][0],c++):i+="/"+a[x][0]);i+="</td></tr>"}e++,document.getElementById(l[e]).innerHTML=i}t()}()):"Profesor"==s&&(n(),function(){var e=-1;for(i=2;i<u;i++)if(-1!==a[i][0].toUpperCase().search(r))for(var o=1;36>o;o+=7){var c="";for(z=o;z<o+7;z++)c+="<th>"+(z-o+1)+".sat ("+n[z-o]+")</th><tr><td>"+a[i][z]+"</td></tr>";e++,document.getElementById(l[e]).innerHTML=c}t()}())}var r,c,s,u=[];$("#accordion").accordion({collapsible:!0,active:!1,heightStyle:"content"}),r=n("input"),c=n("smjena"),s=n("osoba"),r&&c&&""!==s&&a(),$("#tags").autocomplete({delay:0,source:u,minlength:0}),$(".osoba").click(function(){$(".smjena").prop("disabled",!1),s=$(".osoba:checked").val()||[],t()}),$(".smjena").click(function(){$("#tags").prop("disabled",!1),c=$(".smjena:checked").val()||[],t()}),$("#tags").click(function(){$(".en").prop("disabled",!1)}),$(".en").click(function(){r=$("#tags").val().toUpperCase(),document.cookie="input=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="smjena=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="osoba=; expires=Thu, 01 Jan 1970 00:00:00 UTC",a()}),$("#remember").click(function(){r=$("#tags").val().toUpperCase(),document.cookie="input="+r+";expires=Wed, 1 Jan 2070 12:00:00 UTC",document.cookie="smjena="+c+";expires=Wed, 1 Jan 2070 12:00:00 UTC",document.cookie="osoba="+s+";expires=Wed, 1 Jan 2070 12:00:00 UTC",a()});var l=0;$("h4").click(function(){l++,10===l&&window.open("http://www.onlinegaminatorgame.com/slot-games/book-of-ra/")})});